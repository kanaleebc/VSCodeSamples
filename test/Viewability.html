<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>ViewabilityTest</title>
    <link href="scroll-into-view.css" rel="stylesheet" />
  </head>

  <body>
    <p>
      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent iaculis
      est et libero ultricies condimentum. Suspendisse ut ante sed leo consequat
      cursus eget a ex. Etiam aliquet augue sed elit aliquet iaculis. Nunc
      iaculis ultrices congue. Pellentesque at enim sapien. Donec nec semper
      sem. Aenean dui quam, euismod vel commodo nec, cursus tempor risus. Donec
      ligula mi, imperdiet quis lorem id, blandit semper dolor. Duis accumsan
      tempor malesuada.
    </p>
    <p>
      Duis ullamcorper varius vulputate. Mauris et purus neque. Duis at erat
      vulputate purus mattis blandit ac id erat. Nullam tempor metus in lorem
      aliquam gravida. Nullam id eros condimentum dui maximus posuere non et
      neque. Fusce dapibus neque finibus nunc accumsan lobortis.
    </p>
    <p>
        Curabitur scelerisque mi a ante euismod congue. Suspendisse rhoncus, odio
        non faucibus cursus, metus diam vestibulum velit, eu commodo nunc orci et
        purus. Sed eget ultrices sem. Nullam egestas ipsum augue, eu condimentum
        ipsum bibendum ac. Phasellus varius orci eget est aliquam posuere. Nam
        ornare at felis ut fermentum. Suspendisse auctor ultricies augue vitae
        dapibus. Nam efficitur urna velit, quis interdum augue vestibulum et.
        Pellentesque aliquam, massa et condimentum viverra, lacus est mattis
        ipsum, nec facilisis eros tortor quis justo.
      </p>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent iaculis
        est et libero ultricies condimentum. Suspendisse ut ante sed leo consequat
        cursus eget a ex. Etiam aliquet augue sed elit aliquet iaculis. Nunc
        iaculis ultrices congue. Pellentesque at enim sapien. Donec nec semper
        sem. Aenean dui quam, euismod vel commodo nec, cursus tempor risus. Donec
        ligula mi, imperdiet quis lorem id, blandit semper dolor. Duis accumsan
        tempor malesuada.
      </p>
      <p>
        Duis ullamcorper varius vulputate. Mauris et purus neque. Duis at erat
        vulputate purus mattis blandit ac id erat. Nullam tempor metus in lorem
        aliquam gravida. Nullam id eros condimentum dui maximus posuere non et
        neque. Fusce dapibus neque finibus nunc accumsan lobortis.
      </p>
      <p>
        Curabitur scelerisque mi a ante euismod congue. Suspendisse rhoncus, odio
        non faucibus cursus, metus diam vestibulum velit, eu commodo nunc orci et
        purus. Sed eget ultrices sem. Nullam egestas ipsum augue, eu condimentum
        ipsum bibendum ac. Phasellus varius orci eget est aliquam posuere. Nam
        ornare at felis ut fermentum. Suspendisse auctor ultricies augue vitae
        dapibus. Nam efficitur urna velit, quis interdum augue vestibulum et.
        Pellentesque aliquam, massa et condimentum viverra, lacus est mattis
        ipsum, nec facilisis eros tortor quis justo.
      </p>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent iaculis
        est et libero ultricies condimentum. Suspendisse ut ante sed leo consequat
        cursus eget a ex. Etiam aliquet augue sed elit aliquet iaculis. Nunc
        iaculis ultrices congue. Pellentesque at enim sapien. Donec nec semper
        sem. Aenean dui quam, euismod vel commodo nec, cursus tempor risus. Donec
        ligula mi, imperdiet quis lorem id, blandit semper dolor. Duis accumsan
        tempor malesuada.
      </p>
  
    <p>
      Curabitur scelerisque mi a ante euismod congue. Suspendisse rhoncus, odio
      non faucibus cursus, metus diam vestibulum velit, eu commodo nunc orci et
      purus. Sed eget ultrices sem. Nullam egestas ipsum augue, eu condimentum
      ipsum bibendum ac. Phasellus varius orci eget est aliquam posuere. Nam
      ornare at felis ut fermentum. Suspendisse auctor ultricies augue vitae
      dapibus. Nam efficitur urna velit, quis interdum augue vestibulum et.
      Pellentesque aliquam, massa et condimentum viverra, lacus est mattis
      ipsum, nec facilisis eros tortor quis justo.
    </p>
    <p>
      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent iaculis
      est et libero ultricies condimentum. Suspendisse ut ante sed leo consequat
      cursus eget a ex. Etiam aliquet augue sed elit aliquet iaculis. Nunc
      iaculis ultrices congue. Pellentesque at enim sapien. Donec nec semper
      sem. Aenean dui quam, euismod vel commodo nec, cursus tempor risus. Donec
      ligula mi, imperdiet quis lorem id, blandit semper dolor. Duis accumsan
      tempor malesuada.
    </p>
    <p>
      Duis ullamcorper varius vulputate. Mauris et purus neque. Duis at erat
      vulputate purus mattis blandit ac id erat. Nullam tempor metus in lorem
      aliquam gravida. Nullam id eros condimentum dui maximus posuere non et
      neque. Fusce dapibus neque finibus nunc accumsan lobortis.
    </p>
    <p>
      Curabitur scelerisque mi a ante euismod congue. Suspendisse rhoncus, odio
      non faucibus cursus, metus diam vestibulum velit, eu commodo nunc orci et
      purus. Sed eget ultrices sem. Nullam egestas ipsum augue, eu condimentum
      ipsum bibendum ac. Phasellus varius orci eget est aliquam posuere. Nam
      ornare at felis ut fermentum. Suspendisse auctor ultricies augue vitae
      dapibus. Nam efficitur urna velit, quis interdum augue vestibulum et.
      Pellentesque aliquam, massa et condimentum viverra, lacus est mattis
      ipsum, nec facilisis eros tortor quis justo.
    </p>
    <p>
      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent iaculis
      est et libero ultricies condimentum. Suspendisse ut ante sed leo consequat
      cursus eget a ex. Etiam aliquet augue sed elit aliquet iaculis. Nunc
      iaculis ultrices congue. Pellentesque at enim sapien. Donec nec semper
      sem. Aenean dui quam, euismod vel commodo nec, cursus tempor risus. Donec
      ligula mi, imperdiet quis lorem id, blandit semper dolor. Duis accumsan
      tempor malesuada.
    </p>

    <style>
      .video-js {
        width: 480px;
        height: 270px;
      }
    </style>
    <video-js
      id="myPlayerID"
      data-account="6415663006001"
      data-player="YjmOHG9yV"
      data-embed="default"
      controls=""
      data-video-id="6334119588112"
      data-playlist-id=""
      data-application-id=""
      class="vjs-fluid"
    ></video-js>

    <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent iaculis
        est et libero ultricies condimentum. Suspendisse ut ante sed leo consequat
        cursus eget a ex. Etiam aliquet augue sed elit aliquet iaculis. Nunc
        iaculis ultrices congue. Pellentesque at enim sapien. Donec nec semper
        sem. Aenean dui quam, euismod vel commodo nec, cursus tempor risus. Donec
        ligula mi, imperdiet quis lorem id, blandit semper dolor. Duis accumsan
        tempor malesuada.
      </p>
  
    <p>
      Curabitur scelerisque mi a ante euismod congue. Suspendisse rhoncus, odio
      non faucibus cursus, metus diam vestibulum velit, eu commodo nunc orci et
      purus. Sed eget ultrices sem. Nullam egestas ipsum augue, eu condimentum
      ipsum bibendum ac. Phasellus varius orci eget est aliquam posuere. Nam
      ornare at felis ut fermentum. Suspendisse auctor ultricies augue vitae
      dapibus. Nam efficitur urna velit, quis interdum augue vestibulum et.
      Pellentesque aliquam, massa et condimentum viverra, lacus est mattis
      ipsum, nec facilisis eros tortor quis justo.
    </p>
    <p>
      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent iaculis
      est et libero ultricies condimentum. Suspendisse ut ante sed leo consequat
      cursus eget a ex. Etiam aliquet augue sed elit aliquet iaculis. Nunc
      iaculis ultrices congue. Pellentesque at enim sapien. Donec nec semper
      sem. Aenean dui quam, euismod vel commodo nec, cursus tempor risus. Donec
      ligula mi, imperdiet quis lorem id, blandit semper dolor. Duis accumsan
      tempor malesuada.
    </p>
    <p>
      Duis ullamcorper varius vulputate. Mauris et purus neque. Duis at erat
      vulputate purus mattis blandit ac id erat. Nullam tempor metus in lorem
      aliquam gravida. Nullam id eros condimentum dui maximus posuere non et
      neque. Fusce dapibus neque finibus nunc accumsan lobortis.
    </p>
    <p>
      Curabitur scelerisque mi a ante euismod congue. Suspendisse rhoncus, odio
      non faucibus cursus, metus diam vestibulum velit, eu commodo nunc orci et
      purus. Sed eget ultrices sem. Nullam egestas ipsum augue, eu condimentum
      ipsum bibendum ac. Phasellus varius orci eget est aliquam posuere. Nam
      ornare at felis ut fermentum. Suspendisse auctor ultricies augue vitae
      dapibus. Nam efficitur urna velit, quis interdum augue vestibulum et.
      Pellentesque aliquam, massa et condimentum viverra, lacus est mattis
      ipsum, nec facilisis eros tortor quis justo.
    </p>
    <p>
      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent iaculis
      est et libero ultricies condimentum. Suspendisse ut ante sed leo consequat
      cursus eget a ex. Etiam aliquet augue sed elit aliquet iaculis. Nunc
      iaculis ultrices congue. Pellentesque at enim sapien. Donec nec semper
      sem. Aenean dui quam, euismod vel commodo nec, cursus tempor risus. Donec
      ligula mi, imperdiet quis lorem id, blandit semper dolor. Duis accumsan
      tempor malesuada.
    </p>

    <p>
      Duis ullamcorper varius vulputate. Mauris et purus neque. Duis at erat
      vulputate purus mattis blandit ac id erat. Nullam tempor metus in lorem
      aliquam gravida. Nullam id eros condimentum dui maximus posuere non et
      neque. Fusce dapibus neque finibus nunc accumsan lobortis.
    </p>
    <p>
      Curabitur scelerisque mi a ante euismod congue. Suspendisse rhoncus, odio
      non faucibus cursus, metus diam vestibulum velit, eu commodo nunc orci et
      purus. Sed eget ultrices sem. Nullam egestas ipsum augue, eu condimentum
      ipsum bibendum ac. Phasellus varius orci eget est aliquam posuere. Nam
      ornare at felis ut fermentum. Suspendisse auctor ultricies augue vitae
      dapibus. Nam efficitur urna velit, quis interdum augue vestibulum et.
      Pellentesque aliquam, massa et condimentum viverra, lacus est mattis
      ipsum, nec facilisis eros tortor quis justo.
    </p>
    <p>
      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent iaculis
      est et libero ultricies condimentum. Suspendisse ut ante sed leo consequat
      cursus eget a ex. Etiam aliquet augue sed elit aliquet iaculis. Nunc
      iaculis ultrices congue. Pellentesque at enim sapien. Donec nec semper
      sem. Aenean dui quam, euismod vel commodo nec, cursus tempor risus. Donec
      ligula mi, imperdiet quis lorem id, blandit semper dolor. Duis accumsan
      tempor malesuada.
    </p>
    <p>
      Duis ullamcorper varius vulputate. Mauris et purus neque. Duis at erat
      vulputate purus mattis blandit ac id erat. Nullam tempor metus in lorem
      aliquam gravida. Nullam id eros condimentum dui maximus posuere non et
      neque. Fusce dapibus neque finibus nunc accumsan lobortis.
    </p>
    <p>
      Curabitur scelerisque mi a ante euismod congue. Suspendisse rhoncus, odio
      non faucibus cursus, metus diam vestibulum velit, eu commodo nunc orci et
      purus. Sed eget ultrices sem. Nullam egestas ipsum augue, eu condimentum
      ipsum bibendum ac. Phasellus varius orci eget est aliquam posuere. Nam
      ornare at felis ut fermentum. Suspendisse auctor ultricies augue vitae
      dapibus. Nam efficitur urna velit, quis interdum augue vestibulum et.
      Pellentesque aliquam, massa et condimentum viverra, lacus est mattis
      ipsum, nec facilisis eros tortor quis justo.
    </p>
    <p>
      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent iaculis
      est et libero ultricies condimentum. Suspendisse ut ante sed leo consequat
      cursus eget a ex. Etiam aliquet augue sed elit aliquet iaculis. Nunc
      iaculis ultrices congue. Pellentesque at enim sapien. Donec nec semper
      sem. Aenean dui quam, euismod vel commodo nec, cursus tempor risus. Donec
      ligula mi, imperdiet quis lorem id, blandit semper dolor. Duis accumsan
      tempor malesuada.
    </p>
    <p>
      Duis ullamcorper varius vulputate. Mauris et purus neque. Duis at erat
      vulputate purus mattis blandit ac id erat. Nullam tempor metus in lorem
      aliquam gravida. Nullam id eros condimentum dui maximus posuere non et
      neque. Fusce dapibus neque finibus nunc accumsan lobortis.
    </p>
    <p>
      Curabitur scelerisque mi a ante euismod congue. Suspendisse rhoncus, odio
      non faucibus cursus, metus diam vestibulum velit, eu commodo nunc orci et
      purus. Sed eget ultrices sem. Nullam egestas ipsum augue, eu condimentum
      ipsum bibendum ac. Phasellus varius orci eget est aliquam posuere. Nam
      ornare at felis ut fermentum. Suspendisse auctor ultricies augue vitae
      dapibus. Nam efficitur urna velit, quis interdum augue vestibulum et.
      Pellentesque aliquam, massa et condimentum viverra, lacus est mattis
      ipsum, nec facilisis eros tortor quis justo.
    </p>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://players.brightcove.net/6415663006001/YjmOHG9yV_default/index.min.js"></script>
    <script src="scroll-into-view.js"></script>

    <script type="text/javascript">
      videojs.getPlayer("myPlayerID").ready(function () {
        var myPlayer = this;
        myPlayer.scrollIntoView();
      });
    </script>
    <script>
      videojs.registerPlugin("scrollIntoView", function () {
        var myPlayer = this;

        // +++ Execute every time page is scrolled +++
        window.onscroll = checkIfVideoInView;

        // +++ Called on scroll, check if in view and the play/pause +++
        function checkIfVideoInView() {
          if (isScrolledIntoView(myPlayerID)) {
            // the player is fully in the viewport
            myPlayer.play();
          } else {
            // the player is not in the viewport
            myPlayer.pause();
          }
        }

        // +++ Checks if player is in view +++
        function isScrolledIntoView(elem) {
          // Get the position of the viewport
          var docViewTop = $(window).scrollTop();
          var docViewBottom = docViewTop + $(window).height();

          // get the position of the player element
          var elemTop = $(elem).offset().top;
          var elemBottom = elemTop + $(elem).height();

          // Determine if the player element is in fully in the viewport
          return (
            elemBottom >= docViewTop &&
            elemTop <= docViewBottom &&
            elemBottom <= docViewBottom &&
            elemTop >= docViewTop
          );
        }
      });
    </script>
  </body>
</html>
